(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{196:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),s("h2",{attrs:{id:"事件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件流","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件流")]),t._v(" "),s("ul",[s("li",[t._v("事件冒泡")]),t._v(" "),s("li",[t._v("事件捕获")]),t._v(" "),s("li",[t._v("DOM 事件流")])]),t._v(" "),s("h3",{attrs:{id:"dom2-级事件规定事件流分为三个阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom2-级事件规定事件流分为三个阶段","aria-hidden":"true"}},[t._v("#")]),t._v(" DOM2 级事件规定事件流分为三个阶段")]),t._v(" "),s("ol",[s("li",[t._v("事件捕获阶段")]),t._v(" "),s("li",[t._v("处于目标阶段")]),t._v(" "),s("li",[t._v("事件冒泡阶段")])]),t._v(" "),s("blockquote",[s("p",[t._v("IE9、Opera、Firefox、Chrome 和 safari 都支持 DOM 事件流；IEB 及更早版本不支持")])]),t._v(" "),s("h2",{attrs:{id:"事件处理程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件处理程序","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件处理程序")]),t._v(" "),s("h3",{attrs:{id:"html-事件处理程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html-事件处理程序","aria-hidden":"true"}},[t._v("#")]),t._v(" HTML 事件处理程序")]),t._v(" "),s("p",[t._v("在 HTML 中指定事件缺点:")]),t._v(" "),s("ol",[s("li",[t._v("存在时差问题，加载 html 的时候，js 可能并没有加载完全")]),t._v(" "),s("li",[t._v("作用域链在不同的浏览器可能会导致不同的结果")]),t._v(" "),s("li",[t._v("使 HTML 和 javascript 紧密耦合，一旦修改，需同时修改 js 以及 html")])]),t._v(" "),s("h3",{attrs:{id:"dom0-级事件处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom0-级事件处理","aria-hidden":"true"}},[t._v("#")]),t._v(" DOM0 级事件处理")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("xxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("dosomething")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("//添加事件监听")]),t._v("\nxxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("//删除事件监听")]),t._v("\n")])])]),s("h3",{attrs:{id:"dom2-级事件处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom2-级事件处理","aria-hidden":"true"}},[t._v("#")]),t._v(" DOM2 级事件处理")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("xxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("//添加事件监听")]),t._v("\nxxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("removeEventListener")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("//删除事件监听")]),t._v("\n")])])]),s("p",[t._v("两个函数都接受三个参数，分别是要处理的事件名、事件处理程序的函数, 处理阶段（true:捕获阶段，false：冒泡阶段）")]),t._v(" "),s("blockquote",[s("p",[t._v("注意 :")]),t._v(" "),s("ul",[s("li",[t._v("通过 addEventListener()添加的事件处理程序只能使用 removeEventListener 来移除；")]),t._v(" "),s("li",[t._v("移除时传入的参数与添加处理程序时使用的参数相同。这也意味着通过 addEventListener()添加的匿名函数将无法移除。如果需要保留上下文，建议用 bind 方法")]),t._v(" "),s("li",[t._v("使用 Jquery 的 on 方法绑定的事件则可以通过 namespace 来解绑")])])]),t._v(" "),s("p",[t._v("使用例子：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" element "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"element"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" user "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    firstname"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Bob'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    greeting"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{attrs:{class:"token function"}},[t._v("alert")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'My name is '")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("this")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstname"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nelement"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'click'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("greeting"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("；"),s("span",{attrs:{class:"token comment"}},[t._v("//通过这种方式，并不能正确的打印出Bob,而会打印undefined")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" userGreeting "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" user"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("greeting"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("bind")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nelement"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'click'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("greeting"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{attrs:{class:"token comment"}},[t._v("//通过这种方式，能正确的打印出Bob")]),t._v("\n")])])]),s("h3",{attrs:{id:"ie-中的事件处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ie-中的事件处理","aria-hidden":"true"}},[t._v("#")]),t._v(" IE 中的事件处理")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("xxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("attachEvent")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("//添加")]),t._v("\nxxx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("detachEvent")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("//删除")]),t._v("\n")])])]),s("p",[t._v("IE 中与 DOM 事件处理的区别就在于")]),t._v(" "),s("ul",[s("li",[t._v("通过 attachEvent 只能添加到冒泡阶段。（IE8 及以下）")]),t._v(" "),s("li",[t._v("第一个参数事件名前需要添加 on,如 click 事件第一参数为‘onclick’")]),t._v(" "),s("li",[t._v("执行顺序与绑定顺序相反")]),t._v(" "),s("li",[t._v("事件处理函数中，this 为全局，即为 window")])]),t._v(" "),s("h2",{attrs:{id:"事件对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件对象","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件对象")]),t._v(" "),s("p",[t._v("在触发 DOM 上的事件对象时，就会产生一个事件对象，事件对象中包含着一系列关于这个事件信息。")]),t._v(" "),s("h3",{attrs:{id:"事件类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 事件类型")]),t._v(" "),s("ul",[s("li",[t._v("UI 事件")]),t._v(" "),s("li",[t._v("焦点事件")]),t._v(" "),s("li",[t._v("鼠标事件")]),t._v(" "),s("li",[t._v("滚轮事件")]),t._v(" "),s("li",[t._v("文本事件")]),t._v(" "),s("li",[t._v("键盘事件")]),t._v(" "),s("li",[t._v("合成事件")]),t._v(" "),s("li",[t._v("变动事件")]),t._v(" "),s("li",[t._v("HTML5 事件")]),t._v(" "),s("li",[t._v("设备事件")]),t._v(" "),s("li",[t._v("触摸与手势事件")])]),t._v(" "),s("h2",{attrs:{id:"内存与性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内存与性能","aria-hidden":"true"}},[t._v("#")]),t._v(" 内存与性能")]),t._v(" "),s("p",[t._v("使用事件的时候，要多考虑内存与性能方面的问题")]),t._v(" "),s("ol",[s("li",[t._v("限制事件数量")]),t._v(" "),s("li",[t._v("使用事件委托，优点如下：")])]),t._v(" "),s("ul",[s("li",[t._v("可以在页面生命周期任何时点上为它添加事件处理程序（即可为未来节点添加回调）")]),t._v(" "),s("li",[t._v("所需 Dom 引用更少，所花时间更少,页面占用内存少")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("移除过时不用的事件处理程序\n注意：在事件处理程序中删除按钮也能阻止事件冒泡。因为目标元素是事件冒泡的前提")])]),t._v(" "),s("h2",{attrs:{id:"模拟事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模拟事件","aria-hidden":"true"}},[t._v("#")]),t._v(" 模拟事件")]),t._v(" "),s("p",[t._v("可以通过 document 对象上的 createEvent（）方法创建事件，来模拟事件\n可以模拟以下事件：")]),t._v(" "),s("ul",[s("li",[t._v("鼠标事件")]),t._v(" "),s("li",[t._v("键盘事件")]),t._v(" "),s("li",[t._v("其他事件")]),t._v(" "),s("li",[t._v("自定义事件")])]),t._v(" "),s("h2",{attrs:{id:"写在最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写在最后","aria-hidden":"true"}},[t._v("#")]),t._v(" 写在最后")]),t._v(" "),s("p",[t._v("事件这一块的内容相当的多，文章中每一个知识点都有很多需要注意的东西。限于篇幅，这篇文章写的也比较简陋。之后有时间的话，会根据每个小知识点再各写一篇文章来仔细讲述。")])])}],!1,null,null,null);e.options.__file="event.md";a.default=e.exports}}]);